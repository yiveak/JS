<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>13.2.3-DOM2级事件处理程序</title>
</head>

<body>
    <!-- “DOM2级事件”定义了两个方法，用于处理指定和删除事件处理程序的操作：addEventListener()和removeEventListener() -->
    <!-- 所有DOM节点中都包含这两个方法，并且它们都接受3个参数：要处理的事件名、作为事件处理程序的函数和一个布尔值. 最后一个参数默认false -->
    <!--  -->
    <button id='btn'>Click to show msg</button>
    <script>
        let btn = document.querySelector('#btn');
        btn.addEventListener("click", function () {
            alert(this.id);
        });

        // 使用DOM2级方法添加事件处理程序的主要好处是可以添加多个事件处理程序
        // 事件处理程序会按照添加它们的顺序触发
        btn.addEventListener("click", function () {
            alert("Hello addEventListner()");
        })

        // 通过addEventListener()添加的事件处理程序只能使用removeEventListener()来移除；移除时传入的参数与添加处理程序时使用的参数相同。
        // 这也意味着通过addEventListener()添加的匿名函数将无法移除
        /* 
        即,像如下是无用的
        btn.removeEventListner("click", function(){
            alert("Hello addEventListner()");
        })
         */
        //  如果是匿名函数,将其抽离成非匿名函数则解决
        let handler = function () {

            alert("Hello removeEventListner()");
        }
        btn.addEventListener("click", handler);
        btn.removeEventListener("click", handler);
    </script>
</body>

</html>